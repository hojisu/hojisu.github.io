# 운영체제 구조 

- 운영체제는 컴퓨터 하드웨어와 응용 프로그램을 관리한다. 
- 사용자 인터페이스를 제공하기 위해 쉘 프로그램을 제공한다. 
- 운영체제는 저장매체(SSD/HDD)에 저장(설치) 된다.

### 운영체제 목적
- 사용자가 사용하는 응용 프로그램이 효율적, 적절하게 동작하도록 지원한다. 
- 응용 프로그램이 요청하는 시스템 리소스를 효율적으로 분배하고 지원하는 소프트웨어이다. 

### 응용프로그램
- 프로그램 = 소프트웨어
- 소프트웨어 = 운영체제, 응용프로그램
- 응용프로개름 = Application(PC) = App(스마트폰)

   

## 시스템 콜
### 응용프로그램, 운영체제, 컴퓨터 하드웨어 관계
- 운영체제는 응용프로그램이 요청하는 메모리를 허가하고, 분배한다.
- 운영체제는 응용프로그램이 요청하는 CPU 시간을 제공한다.
- 운영체제는 응용프로그램이 요청하는 IO Devices 사용을 허가/제어한다. 

### 쉘(shell)
- 운영체제는 사용자 인터페이스 제공한다.
- 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램이다.
- 터미널 환경(CLI), GUI환경 두종류가 있다. 

운영체제는 응용프로그램을 위해서도 인터페이스를 제공한다. 
- API(Application Programming Interface)
  - 함수로 제공 ex) open()
- 보통은 라이브러리 형태로 제공 ex) C library
### 시스템 콜(시스템 호출 인터페이스)
- 운영체제가 운영체제 각 기능을 사용할 수 있도록 시스템 콜이라는 명령 또는 함수를 제공한다.
  - 보통 시스템콜을 직접 사용하기 보다는 해당 시스템 콜을 사용해서 만든 각 언어별 라이브러리(API)를 사용한다. 
- API 내부에는 시스템콜을 호출하는 형태로 만들어지는 경우가 대부분이다. 


## 사용자와 커널 모드

### CPU Progection Rings
- 사용자 모드(user mode): 응용프로그램이 사용
- 커널 모드(kernel mode): OS가 사용


### 시스템콜은 커널 모드로 실행
- 커널 모드에서만 실행 가능한 기능들이 있다. 
- 커널 모드로 실행하려면 반드시 시스템콜을 거쳐야함
- 시스템콜은 운영체제 제공
  
### 사용자 모드와 커널 모드
- 함부로 응용 프로그램이 전체 컴퓨터 시스템을 헤치지 못한다.


- 운영체제는 시스템 콜 제공한다.
- 프로그래밍 언어별로 운영체제 기능을 활용하기 위해 시스템 콜을 기반으로 API 제공한다.
- 응용프로그램은 운영체제 기능 필요시 해당 API를 사용해서 프로그램 작성
- 응용 프로그램이 실행되서 운영체제 기능이 필요한 API를 호출하면 시스템콜이 호출되고 커널 모드로 변경되어 OS 내부에서 해당 명령이 실행되고 다시 응용프로그램으로 돌아간다.




reference
- 이태일 강사님 온라인 강의를 수강하며 강의자료를 토대로 공부하며 정리한 내용임을 말씀드립니다. 