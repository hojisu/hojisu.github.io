<script> MathJax.Hub.Queue(["Typeset",MathJax.Hub]); </script>

# ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œ

### Summary

- ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ ë°©ë²•ì€ ì›ë˜ì˜ ëª©ì í•¨ìˆ˜ $$f(x)$$ ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì œí•œì¡°ê±´ ë“±ì‹ì— $$\lambda$$ ë¼ëŠ” ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ê³±í•´ì„œ ë”í•œ í•¨ìˆ˜ë¥¼ ëª©ì í•¨ìˆ˜ë¡œ ê°„ì£¼í•˜ì—¬ ìµœì í™”í•œë‹¤. 

- KKT(Karush-Kuhn-Tucker) ì¡°ê±´

  - ëª¨ë“  ë…ë¦½ ë³€ìˆ˜ $$x_1, x_2, \ldots , x_N$$ ì— ëŒ€í•œ ë¯¸ë¶„ê°’ì´ 0ì´ë‹¤. (ì œí•œì¡°ê±´ ê²½ìš°ì™€ ê°™ìœ¼ë‚˜ ë³€ìˆ˜ $$x$$ ì— ëŒ€í•œ ë¯¸ë¶„ê°’ë§Œ 0ì´ì–´ì•¼ í•œë‹¤. ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda$$ ì— ëŒ€í•œ ë¯¸ë¶„ì€ 0ì´ ì•„ë‹ˆì–´ë„ ëœë‹¤)
    $$
    \dfrac{\partial h(x, \lambda)}{\partial x_i} = 0
    $$

  - ëª¨ë“  ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda_1, \ldots , \lambda_M$$  ì™€ ì œí•œì¡°ê±´ ë¶€ë“±ì‹($$\lambda$$ ì— ëŒ€í•œ ë¯¸ë¶„ê°’)ì˜ ê³±ì´ 0ì´ë‹¤. (ë“±ì‹ ì œí•œì¡°ê±´ì˜ ê²½ìš°ì²˜ëŸ¼ ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda$$ ì—ëŒ€í•œ ë¯¸ë¶„ê°’ì´ 0ì´ì–´ë„ ë˜ê³  ì•„ë‹ˆë©´ ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda$$ ê°’ ìì²´ê°€ 0ì´ ë˜ì–´ë„ ëœë‹¤. )

  $$
  \lambda_j \cdot \dfrac{\partial h(x, \lambda)}{\partial \lambda_j} = \lambda_j \cdot g_j = 0
  $$

  - ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ëŠ” ìŒìˆ˜ê°€ ì•„ë‹ˆì–´ì•¼ í•œë‹¤. (KKT ì¡°ê±´ì´ ì‹¤ì œë¡œ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œì™€ ê°™ì€ ë¬¸ì œì„ì„ ë³´ì¥(striong duality) í•˜ê¸° ìœ„í•œ ì¡°ê±´ì´ë‹¤.) $$\lambda_j \geq 0$$

- ë§Œì•½ $$ğ‘”_ğ‘–=0$$ì´ë©´ ì´ ì¡°ê±´ì€ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ì•„ë‹Œ **ë“±ì‹** ì œí•œì¡°ê±´ì´ ëœë‹¤. ê·¸ë¦¬ê³  ë“±ì‹ ì œí•œì¡°ê±´ì—ì„œ ë§í•œ ë°”ì™€ ê°™ì´ (ì´ ì œí•œì¡°ê±´ì´ ìˆìœ¼ë‚˜ ì—†ìœ¼ë‚˜ í•´ê°€ ë°”ë€Œì§€ ì•ŠëŠ” íŠ¹ìˆ˜í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ë©´) **ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ëŠ” 0ì´ ì•„ë‹Œ ê°’**ì„ ê°€ì§„ë‹¤.

  - $$g_i = 0 \;\; \rightarrow \;\; \lambda_i \neq 0 \; (\lambda_i > 0)$$

  ë°˜ëŒ€ë¡œ $$ğ‘”_ğ‘–â‰ 0(ğ‘”_ğ‘–<0)$$ì´ë©´ í•´ê°€ $$ğ‘”_ğ‘–$$ê°€ í‘œí˜„í•˜ëŠ” ê³¡ì„ ìœ¼ë¡œë¶€í„° ë–¨ì–´ì ¸ ìˆê¸° ë•Œë¬¸ì— ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ì•„ë¬´ëŸ° ì˜ë¯¸ê°€ ì—†ì–´ì§„ë‹¤. ì¦‰, ì œí•œì¡°ê±´ì´ ìˆì„ ë•Œì™€ ì—†ì„ ë•Œì˜ í•´ê°€ ê°™ë‹¤. ë”°ë¼ì„œ ëª©ì í•¨ìˆ˜ â„(ğ‘¥,ğœ†)ëŠ” $$ğœ†_ğ‘–ğ‘”_ğ‘–(ğ‘”_ğ‘–â‰ 0)$$í•­ì´ ìˆìœ¼ë‚˜ ì—†ìœ¼ë‚˜ ìƒê´€ì—†ì´ ê°™ì€ í•´ë¥¼ ê°€ì§„ë‹¤.  ë”°ë¼ì„œ $$ğœ†_ğ‘–=0$$ì´ ëœë‹¤.

_____________

### ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œ

í˜„ì‹¤ì˜ ìµœì í™” ë¬¸ì œì—ì„œëŠ” ì—¬ëŸ¬ê°€ì§€ **ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™”(constrained optimization)** ë¬¸ì œê°€ ë§ë‹¤. ê°€ì¥ ê°„ë‹¨í•œ ê²½ìš°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ê²½ìš°ì´ë‹¤.
$$
x^{\ast} = \text{arg} \min_x f(x)
$$

$$
x \in \mathbf{R}^N
$$

$$
g_j(x) = 0 \;\; (j=1, \ldots, M)  
$$

ì‹ 4.2.1ë§Œ ë³´ë©´ ë‹¨ìˆœíˆ ëª©ì í•¨ìˆ˜ $$f(x)$$ ë¥¼ ê°€ì¥ ì‘ê²Œí•˜ëŠ” $$N$$ ì°¨ì› ë²¡í„° $$x$$ ê°’ì„ ì°¾ëŠ” ë¬¸ì œì´ë‹¤. í•˜ì§€ë§Œ ì‹ 4.2.2ì— ìˆëŠ” $$M$$ ê°œì˜ ë“±ì‹ ì œí•œ ì¡°ê±´ì´ ìˆìœ¼ë©´ $$M$$ ê°œ ì—°ë¦½ ë°©ì •ì‹ì„ ë™ì‹œì— ëª¨ë‘ ë§Œì¡±ì‹œí‚¤ë©´ì„œ ëª©ì í•¨ìˆ˜ $$f(x)$$ ë¥¼ ê°€ì¥ ì‘ê²Œí•˜ëŠ” $$x$$ ê°’ì„ ì°¾ì•„ì•¼ í•œë‹¤. 

$$
g_1(x) &= 0 \\
g_2(x) &= 0 \\
&\vdots \\
g_M(x) &= 0 \\
$$

ì˜ˆì œ 

ëª©ì í•¨ìˆ˜ $$f$$ ì™€ ë“±ì‹ ì œí•œì¡°ê±´ $$g$$ ì´ ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš° ì´ ë¬¸ì œëŠ” ë‹¤ìŒ ê·¸ë¦¼ì²˜ëŸ¼ $$g(x_1, x_2) = 0$$ ìœ¼ë¡œ ì •ì˜ë˜ëŠ” ì§ì„ ìƒì—ì„œ ê°€ì¥ $$f(x_1, x_2)$$ ê°’ì´ ì‘ì•„ì§€ëŠ” ì  $$(x_1^*, x_2^*)$$ ë¥¼ ì°¾ëŠ” ë¬¸ì œê°€ ëœë‹¤.

$$
f(x_1, x_2) = x_1^2 + x_2^2 
\tag{4.2.3}
$$

$$
g(x_1, x_2) = x_1 + x_2 - 1 = 0 
$$

![image-20190430094631615](../../../resource/img/image-20190430094631615.png)

### ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ë²•

ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œëŠ” **ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ë²•(Lagrange multiplier)** ì„ ì‚¬ìš©í•˜ì—¬ ìµœì í™” í•  ìˆ˜ ìˆë‹¤. 

ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ ë°©ë²•ì—ì„œëŠ” ëª©ì í•¨ìˆ˜ë¥¼ ì›ë˜ì˜ ëª©ì í•¨ìˆ˜ $$f(x)$$ ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  ì œí•œì¡°ê±´ ë“±ì‹ì— $$\lambda$$ ë¼ëŠ” ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ê³±í•´ì„œ ë”í•œ í•¨ìˆ˜ë¥¼ ëª©ì í•¨ìˆ˜ë¡œ ê°„ì£¼í•˜ì—¬ ìµœì í™”í•œë‹¤. 

$$
\begin{aligned}
h(x, \lambda) 
&= h(x_1, x_2, \ldots , x_N, \lambda_1, \ldots , \lambda_M) \\
&= f(x) + \sum_{j=1}^M \lambda_j g_j(x)
\end{aligned}
$$

ì´ ë•Œ ì œí•œì¡°ê±´ ë“±ì‹ í•˜ë‚˜ë§ˆë‹¤ ìƒˆë¡œìš´ $$\lambda_i$$ ë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•œë‹¤. ë§Œì•½ ì œí•œì¡°ê±´ì´ $$M$$ ê°œ ì´ë©´ $$\lambda_1, \cdots , \lambda_M$$ ê°œì˜ ë³€ìˆ˜ê°€ ìƒˆë¡œ ìƒê¸´ ê²ƒê³¼ ê°™ë‹¤. ì´ë ‡ê²Œ í™•ì¥ëœ ëª©ì í•¨ìˆ˜ $$h$$ ëŠ” ì…ë ¥ë³€ìˆ˜ê°€ ë” ëŠ˜ì–´ë‚¬ê¸° ë•Œë¬¸ì— ê·¸ë ˆë””ì–¸íŠ¸ ë²¡í„°ë¥¼ ì˜ë²¡í„°ë¡œ ë§Œë“œëŠ” ìµœì í™” í•„ìš” ì¡°ê±´ì´ ë‹¤ìŒì²˜ëŸ¼ $$N + M$$ ê°œê°€ ëœë‹¤.

$$
\dfrac{\partial h}{\partial x_1} 
&= \dfrac{\partial f}{\partial x_1} + \sum_{j=1}^M \lambda_j\dfrac{\partial g_j}{\partial x_1} = 0 \\
\dfrac{\partial h}{\partial x_2} 
&= \dfrac{\partial f}{\partial x_2} + \sum_{j=1}^M \lambda_j\dfrac{\partial g_j}{\partial x_2} = 0 \\
& \vdots  \\
\dfrac{\partial h}{\partial x_N} 
&= \dfrac{\partial f}{\partial x_N} + \sum_{j=1}^M \lambda_j\dfrac{\partial g_j}{\partial x_N} = 0 \\
\dfrac{\partial h}{\partial \lambda_1} 
&= g_1 = 0 \\
& \vdots  \\
\dfrac{\partial h}{\partial \lambda_M} 
&= g_M = 0 
$$

$$N + M$$ ê°œì˜ ì—°ë¦½ ë°©ì •ì‹ì„ í’€ë©´ $$N + M$$ ê°œì˜ ë¯¸ì§€ìˆ˜ $$x_1, x_2, \ldots, x_N, , \lambda_1, \ldots , \lambda_M$$ ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤. êµ¬í•œ ê²°ê³¼ì—ì„œ $$x_1, x_2, \cdots, x_N$$ ê°€ ìš°ë¦¬ê°€ ì°¾ëŠ” ìµœì†Œê°’ $$x$$ ì´ë‹¤. ë‚˜ë¨¸ì§€ ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ê°’ì€ í•„ìš” ì—†ë‹¤. 

ì˜ˆì œ 

ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ë²•ì„ ì ìš©í•˜ì—¬ ê·¸ë ˆë””ì–¸íŠ¸ ë²¡í„°ê°€ ì˜ë²¡í„°ì¸ ìœ„ì¹˜ë¥¼ êµ¬í•œë‹¤. 

$$
h(x_1, x_2, \lambda)  = f(x_1, x_2) + \lambda g(x_1, x_2)  = x_1^2 + x_2^2 + \lambda ( x_1 + x_2 - 1 ) 
$$

$$
\dfrac{\partial h}{\partial x_1} 
&= 2{x_1} + \lambda = 0 \\
\dfrac{\partial h}{\partial x_2} 
&= 2{x_2} + \lambda = 0 \\
\dfrac{\partial h}{\partial \lambda} 
&= x_1 + x_2 - 1 = 0 
$$

$$
x_1 = x_2 = \dfrac{1}{2}, \;\;\; \lambda = -1
$$



### Scipyë¥¼ ì‚¬ìš©í•˜ì—¬ ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œ ê³„ì‚°í•˜ê¸°

SciPyì˜ optimize ì„œë¸ŒíŒ¨í‚¤ì§€ëŠ” ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œë¥¼ í’€ê¸°ìœ„í•œ `fmin_slsqp`ëª…ë ¹ì„ ì œê³µí•œë‹¤.

~~~python
fmin_slsqp(func_objective, x0, eqcons=[func_constraint1, func_constraint2])
~~~

`fmin_slsqp` ëª…ë ¹ì€ ëª©ì í•¨ìˆ˜ì™€ ì´ˆê¸°ê°’, ê·¸ë¦¬ê³  ì œí•œì¡°ê±´ í•¨ìˆ˜ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤. ëª©ì í•¨ìˆ˜ëŠ” ë°°ì—´ì¸ ì¸ìˆ˜ë¥¼ ë°›ë„ë¡ êµ¬í˜„ë˜ì–´ì•¼ í•˜ê³  ì œí•œì¡°ê±´ í•¨ìˆ˜ì˜ ê²½ìš°ì—ëŠ” í•­ìƒ `eqcons`ì¸ìˆ˜ë¥¼ ëª…ì‹œí•´ì•¼ í•œë‹¤.

~~~python
def f1array(x):
    return x[0] ** 2 + x[1] ** 2


def eq_constraint(x):
    return x[0] + x[1] - 1


sp.optimize.fmin_slsqp(f1array, np.array([1, 1]), eqcons=[eq_constraint])
~~~

### ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ì˜ ì˜ë¯¸

ë§Œì•½ ìµœì í™” ë¬¸ì œì—ì„œ ë“±ì‹ ì œí•œì¡°ê±´ $$ğ‘”_ğ‘–$$ì´ ìˆëŠ”ê°€ ì—†ëŠ”ê°€ì— ë”°ë¼ í•´ì˜ ê°’ì´ ë‹¬ë¼ì§„ë‹¤ë©´ ì´ ë“±ì‹ ì œí•œì¡°ê±´ì— ëŒ€ì‘í•˜ëŠ” ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ $$ğœ†_ğ‘–$$ëŠ” 0ì´ ì•„ë‹Œ ê°’ì´ì–´ì•¼ í•œë‹¤.
$$
\lambda_i \neq 0 
$$

$$ğœ†_ğ‘–=0$$ì¼ ë•Œë§Œ ì›ë˜ì˜ ë¬¸ì œì™€ ì œí•œì¡°ê±´ì´ ìˆëŠ” ë¬¸ì œì˜ ìµœì í™” ì¡°ê±´ì´ ê°™ì•„ì§€ë¯€ë¡œ ìµœì í™” í•´ì˜ ìœ„ì¹˜ë„ ê°™ê²Œ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì´ë‹¤.

ì˜ˆì œ

ëª©ì í•¨ìˆ˜ê°€ $$f(x) = x_1^2 + x_2^2$$ ì¸ ìµœì†Œí™” ë¬¸ì œì˜ ë‹µì€ $$x_1 = x_2 = 0$$ ì´ë‹¤. ì—¬ê¸°ì— ë‹¤ìŒ ìµœì í™” ì¡°ê±´ì´ì´ ìˆë‹¤ê³  í•˜ì. 

$$
g(x_1, x_2) = x_1 + x_2 = 0
$$

ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ë²•ì—ì„œ ìƒˆë¡œìš´ ëª©ì í•¨ìˆ˜ 

$$
h(x_1, x_2, \lambda) 
= f(x_1, x_2) + \lambda g(x_1, x_2) 
= x_1^2 + x_2^2 + \lambda ( x_1 + x_2) 
$$

ìµœì í™” ì¡°ê±´ì€
$$
\dfrac{\partial h}{\partial x_1} 
&= 2{x_1} + \lambda = 0 \\
\dfrac{\partial h}{\partial x_2} 
&= 2{x_2} + \lambda = 0 \\
\dfrac{\partial h}{\partial \lambda} 
&= x_1 + x_2 = 0 
$$

ì´ë¥¼ í’€ë©´ $$x_1 = x_2 = \lambda = 0$$ ìœ¼ë¡œ ì œí•œì¡°ê±´ì´ ìˆìœ¼ë‚˜ ì—†ìœ¼ë‚˜ í•´ëŠ” ê°™ê³  ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ê°€ 0ì´ë‹¤.

#### ë¶€ë“±ì‹(inequality) ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œ

$$
x^{\ast} = \text{arg} \min_x f(x)  \\ 
x \in \mathbf{R}^N \\
g_j(x) \leq 0 \;\; (j=1, \ldots, M)  
$$

ë§Œì•½ ë¶€ë“±ì‹ì´ $$g_j(x) \geq 0$$ ê³¼ ê°™ë‹¤ë©´ ì–‘ë³€ì— -1ì„ ê³±í•˜ì—¬ ë¶€ë“±í˜¸ì˜ ë°©í–¥ì„ ë°”ê¾¼ë‹¤.

ì´ë ‡ê²Œ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œë„ ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ ë°©ë²•ê³¼ ëª©ì í•¨ìˆ˜ë¥¼ ë‹¤ìŒì²˜ëŸ¼ ë°”ê¾¸ì–´ í‘¼ë‹¤.
$$
h(x, \lambda) = f(x) + \sum_{j=1}^M \lambda_j g_j(x)
$$

ìµœì í™” í•´ì˜ í•„ìš”ì¡°ê±´ì€ ë°©ì •ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œì™€ ë‹¤ë¥´ê²Œ **KKT(Karush-Kuhn-Tucker) ì¡°ê±´**  ì´ë¼ê³  í•˜ë©° ë‹¤ìŒì²˜ëŸ¼ 3ê°œì˜ ì¡°ê±´ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.

ëª¨ë“  ë…ë¦½ ë³€ìˆ˜ $$x_1, x_2, \ldots , x_N$$ ì— ëŒ€í•œ ë¯¸ë¶„ê°’ì´ 0ì´ë‹¤. (ì œí•œì¡°ê±´ ê²½ìš°ì™€ ê°™ìœ¼ë‚˜ ë³€ìˆ˜ $$x$$ ì— ëŒ€í•œ ë¯¸ë¶„ê°’ë§Œ 0ì´ì–´ì•¼ í•œë‹¤. **ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda$$ ì— ëŒ€í•œ ë¯¸ë¶„ì€ 0ì´ ì•„ë‹ˆì–´ë„ ëœë‹¤**)

$$
\dfrac{\partial h(x, \lambda)}{\partial x_i} = 0
$$

ëª¨ë“  ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda_1, \ldots , \lambda_M$$  ì™€ ì œí•œì¡°ê±´ ë¶€ë“±ì‹($$\lambda$$ ì— ëŒ€í•œ ë¯¸ë¶„ê°’)ì˜ ê³±ì´ 0ì´ë‹¤. (ë“±ì‹ ì œí•œì¡°ê±´ì˜ ê²½ìš°ì²˜ëŸ¼ ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda$$ ì—ëŒ€í•œ ë¯¸ë¶„ê°’ì´ 0ì´ì–´ë„ ë˜ê³  ì•„ë‹ˆë©´ **ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ $$\lambda$$ ê°’ ìì²´ê°€ 0ì´ ë˜ì–´ë„ ëœë‹¤.** )


$$
\lambda_j \cdot \dfrac{\partial h(x, \lambda)}{\partial \lambda_j} = \lambda_j \cdot g_j = 0
$$

ë¼ê·¸ë‘ì§€ ìŠ¹ìˆ˜ëŠ” ìŒìˆ˜ê°€ ì•„ë‹ˆì–´ì•¼ í•œë‹¤. (KKT ì¡°ê±´ì´ ì‹¤ì œë¡œ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œì™€ ê°™ì€ ë¬¸ì œì„ì„ ë³´ì¥(striong duality) í•˜ê¸° ìœ„í•œ ì¡°ê±´ì´ë‹¤.) $$\lambda_j \geq 0$$

ì˜ˆì œë¡œ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì„ ê°€ì§€ëŠ” ìµœì í™”ì˜ ì˜ˆë¥¼ í’€ì–´ë³´ì.

â€‹			1)ëª©ì í•¨ìˆ˜ $$f(x_1, x_2) = x_1^2 + x_2^2$$

â€‹			2)ì œí•œì¡°ê±´1. $$g(x_1, x_2) = x_1 + x_2 - 1 \leq 0 $$ 

ì œí•œì¡°ê±´1ì€ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆê¸°ëŠ” í•˜ì§€ë§Œ ì›ë˜ì˜ ìµœì í™” ë¬¸ì œì˜ í•´ê°€ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ì œì‹œí•˜ëŠ” ì˜ì—­ì•ˆì— ìˆê¸° ë•Œë¬¸ì— ìµœì ì ì˜ ìœ„ì¹˜ê°€ ë‹¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤.

â€‹			3)ì œí•œì¡°ê±´2. $$g(x_1, x_2) = -x_1 - x_2 + 1 \leq 0 $$

ì œí•œì¡°ê±´2ì€ ì›ë˜ì˜ ìµœì í™” ë¬¸ì œì˜ í•´ê°€ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ì œì‹œí•˜ëŠ” ì˜ì—­ ë°”ê¹¥ì— ìˆê¸° ë•Œë¬¸ì— ìµœì ì ì˜ ìœ„ì¹˜ê°€ ë‹¬ë¼ì¡Œë‹¤. í•˜ì§€ë§Œ ìµœì ì ì˜ ìœ„ì¹˜ê°€ ì˜ì—­ì˜ ê²½ê³„ì„ (boundary line)ì— ìˆë‹¤ëŠ” ì ì— ì£¼ì˜í•´ì•¼í•œë‹¤.  

![image-20200326171309293](../../../resource/img/image-20200326171309293.png)

ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œë¥¼ í’€ë©´ ê·¸ ì œí•œì¡°ê±´ì€ ë‹¤ìŒ ë‘ ê°€ì§€ ê²½ìš°ì˜ í•˜ë‚˜ê°€ ë˜ì–´ë²„ë¦°ë‹¤.  

- ìµœì í™” ê²°ê³¼ì— ì „í˜€ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” **ì“¸ëª¨ì—†ëŠ”** ì œí•œì¡°ê±´
- ìµœì í™” ê²°ê³¼ì— ì˜í–¥ì„ ì£¼ëŠ” **ë“±ì‹(equality)ì¸** ì œí•œì¡°ê±´

ì–´ëŠ ê²½ìš°ì´ë“  ë¶€ë“±ì‹ ì œí•œì¡°ê±´ ë¬¸ì œë¡œ ì‹œì‘í–ˆì§€ë§Œ ê²°ê³¼ëŠ” ì œí•œì¡°ê±´ì´ ì—†ê±°ë‚˜ ë“±ì‹ ì œí•œì¡°ê±´ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²ƒê³¼ ê°™ì•„ì§„ë‹¤. KKTì¡°ê±´ ì¤‘ ë‘ë²ˆì§¸ ì¡°ê±´ì´ ëœ»í•˜ëŠ” ë°”ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. 

ë‹¤ìŒ ì‹ì—ì„œ $$ğ‘¥^âˆ—,ğœ†^âˆ—$$ëŠ” KKT ì¡°ê±´ì„ í’€ì–´ì„œ êµ¬í•œ ìµœì í•´ì˜ ê°’ì´ë‹¤.

$$\lambda^{\ast} = 0 \;\; \text{or} \;\;  g(x^{\ast}) = 0 $$ 

ë§Œì•½ $$ğ‘”_ğ‘–=0$$ì´ë©´ ì´ ì¡°ê±´ì€ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ì•„ë‹Œ **ë“±ì‹** ì œí•œì¡°ê±´ì´ ëœë‹¤. ê·¸ë¦¬ê³  ë“±ì‹ ì œí•œì¡°ê±´ì—ì„œ ë§í•œ ë°”ì™€ ê°™ì´ (ì´ ì œí•œì¡°ê±´ì´ ìˆìœ¼ë‚˜ ì—†ìœ¼ë‚˜ í•´ê°€ ë°”ë€Œì§€ ì•ŠëŠ” íŠ¹ìˆ˜í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ë©´) **ë¼ê·¸ë‘ì£¼ ìŠ¹ìˆ˜ëŠ” 0ì´ ì•„ë‹Œ ê°’**ì„ ê°€ì§„ë‹¤.

$$g_i = 0 \;\; \rightarrow \;\; \lambda_i \neq 0 \; (\lambda_i > 0)$$

ë°˜ëŒ€ë¡œ $$ğ‘”_ğ‘–â‰ 0(ğ‘”_ğ‘–<0)$$ì´ë©´ í•´ê°€ $$ğ‘”_ğ‘–$$ê°€ í‘œí˜„í•˜ëŠ” ê³¡ì„ ìœ¼ë¡œë¶€í„° ë–¨ì–´ì ¸ ìˆê¸° ë•Œë¬¸ì— ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ì•„ë¬´ëŸ° ì˜ë¯¸ê°€ ì—†ì–´ì§„ë‹¤. ì¦‰, ì œí•œì¡°ê±´ì´ ìˆì„ ë•Œì™€ ì—†ì„ ë•Œì˜ í•´ê°€ ê°™ë‹¤. ë”°ë¼ì„œ ëª©ì í•¨ìˆ˜ â„(ğ‘¥,ğœ†)ëŠ” $$ğœ†_ğ‘–ğ‘”_ğ‘–(ğ‘”_ğ‘–â‰ 0)$$í•­ì´ ìˆìœ¼ë‚˜ ì—†ìœ¼ë‚˜ ìƒê´€ì—†ì´ ê°™ì€ í•´ë¥¼ ê°€ì§„ë‹¤.  ë”°ë¼ì„œ $$ğœ†_ğ‘–=0$$ì´ ëœë‹¤.

$$g_i \neq 0 \;\; \rightarrow \;\; \lambda_i = 0  $$

ë³µìˆ˜ì˜ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ë˜ë‹¤ë¥¸ 2ì°¨ì› ìµœì í™” ë¬¸ì œì˜ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì.

$$
\text{arg} \min_x \; (x_1-4)^2 + (x_2-2)^2 \\
g_1(x) = x_1 + x_2 - 1\leq 0 \\
g_2(x) = -x_1 + x_2 - 1\leq 0 \\
g_3(x) = -x_1 - x_2 - 1\leq 0 \\
g_4(x) = x_1 - x_2 - 1\leq 0
$$
4ê°œì˜ ì œí•œì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ì€ í•˜ë‚˜ì˜ ë¶€ë“±ì‹ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ë„ ìˆë‹¤.
$$
g(x) 
= \left\vert\, x_1 \right\vert + \left\vert\, x_2 \right\vert - 1 
= \sum_{i=1}^{2} \left\vert\, x_i \right\vert - 1 \leq 0
$$

![image-20200326171512843](../../../resource/img/image-20200326171512843.png)

### SciPyë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ìµœì í™” ë¬¸ì œ ê³„ì‚°í•˜ê¸°

 `fmin_slsqp` ëª…ë ¹ì€ ì´ë ‡ê²Œ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì´ ìˆëŠ” ê²½ìš°ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì œí•œì¡°ê±´ ì¸ìˆ˜ì˜ ì´ë¦„ì´ `ieqcons`ë¡œ ë‹¬ë¼ì¡Œë‹¤.

~~~python
fmin_slsqp(func_objective, x0, ieqcons=[func_constraint1, func_constraint2])
~~~

ë‹¨ `ieqcons` ì¸ìˆ˜ì— ë“¤ì–´ê°€ëŠ” ë¶€ë“±í˜¸ì˜ ë¶€í˜¸ëŠ” ìš°ë¦¬ê°€ ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í•œ ë°©ì‹ê³¼ ë‹¬ë¦¬ 0 ë˜ëŠ” ì–‘ìˆ˜ì´ì–´ì•¼ í•œë‹¤.   $$g \geq 0$$

ì‚¬ì‹¤ `fmin_slsqp` ëª…ë ¹ì€ ë“±ì‹ ì œí•œì¡°ê±´ê³¼ ë¶€ë“±ì‹ ì œí•œì¡°ê±´ì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

~~~python
def f2(x):
    return np.sqrt((x[0] - 4) ** 2 + (x[1] - 2) ** 2)

# ì œí•œ ì¡°ê±´ ìƒìˆ˜
k = 1
def ieq_constraint(x):
    return np.atleast_1d(k - np.sum(np.abs(x)))


sp.optimize.fmin_slsqp(f2, np.array([0, 0]), ieqcons=[ieq_constraint])
~~~

